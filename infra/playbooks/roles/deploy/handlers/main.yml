---
# roles/deploy/handlers/main.yml
# Handlers for the deploy role

- name: restart_traefik
  shell: |
    cd {{ app_directory }}
    docker-compose restart traefik 2>/dev/null || true
  become_user: "{{ app_user }}"
  listen: restart_traefik

- name: reload_docker_config
  systemd:
    name: docker
    state: reloaded
  listen: reload_docker_config
