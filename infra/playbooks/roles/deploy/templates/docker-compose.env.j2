# roles/deploy/templates/docker-compose.env.j2
# Environment file for Docker Compose services

# Application Environment
APP_ENV={{ environment }}
APP_DEBUG={{ app_debug | default('false') }}

# Traefik Configuration
TRAEFIK_DASHBOARD_ENABLED={{ traefik_dashboard_enabled | default('true') }}
TRAEFIK_API_INSECURE={{ traefik_api_insecure | default('false') }}
TRAEFIK_LOG_LEVEL={{ traefik_log_level | default('INFO') }}
TRAEFIK_NETWORK={{ traefik_network | default('app-network') }}

# Let's Encrypt Configuration
ACME_EMAIL={{ acme_email | default('admin@example.com') }}
ACME_STORAGE=/letsencrypt/acme.json
ACME_ENTRYPOINT=websecure

# Backend Services Configuration
AUTH_API_PORT={{ auth_api_port | default('3001') }}
TODOS_API_PORT={{ todos_api_port | default('3002') }}
USERS_API_PORT={{ users_api_port | default('8080') }}

# Database Configuration
DB_HOST={{ db_host | default('db') }}
DB_PORT={{ db_port | default('5432') }}
DB_NAME={{ db_name | default('app') }}

# JWT Configuration
JWT_SECRET={{ jwt_secret | default('your-secret-key-change-in-production') }}
JWT_EXPIRY={{ jwt_expiry | default('3600') }}

# Monitoring and Logging
LOG_LEVEL={{ log_level | default('info') }}
ENABLE_METRICS={{ enable_metrics | default('true') }}
